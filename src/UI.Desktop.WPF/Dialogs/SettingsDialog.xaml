<Window x:Class="UI.Desktop.WPF.Dialogs.SettingsDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:Input="clr-namespace:CommunityToolkit.Mvvm.Input"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:dvm="clr-namespace:Logic.UI.DialogViewModels;assembly=Logic.UI"
        xmlns:local="clr-namespace:UI.Desktop.WPF.Dialogs"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:md="https://github.com/fantasticfiasco/mvvm-dialogs"
        Title="Settings"
        MinWidth="640"
        MinHeight="400"
        d:DataContext="{d:DesignInstance Type=dvm:SettingsDialogViewModel}"
        md:DialogServiceViews.IsRegistered="True"
        ResizeMode="NoResize"
        SizeToContent="WidthAndHeight"
        WindowStartupLocation="CenterOwner"
        mc:Ignorable="d">
  <Window.InputBindings>
    <KeyBinding Key="Esc" Command="{Binding CancelCommand}" />
  </Window.InputBindings>
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="*" />
      <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>
    <StackPanel Orientation="Vertical">
      <Label Content="URL of Pinboard.in backup file in JSON format" />
      <TextBox Grid.Row="1"
               Focusable="True"
               IsTabStop="True"
               Text="{Binding JSONFileURL,
                              Mode=TwoWay,
                              UpdateSourceTrigger=PropertyChanged}" />
      <Separator />
      <CheckBox Content="Ask before application exit" IsChecked="{Binding AskBeforeAppExit}" />
    </StackPanel>
    <StackPanel Grid.Row="1"
                Margin="0 6 3 0"
                HorizontalAlignment="Right"
                Orientation="Horizontal">

      <Button Input:RelayCommandExtensions.IsCommandUpdateEnabled="True"
              Command="{Binding ApplyCommand}"
              Content="_Apply" />

      <Button Input:RelayCommandExtensions.IsCommandUpdateEnabled="True"
              Command="{Binding CancelCommand}"
              Content="_Cancel" />
    </StackPanel>

  </Grid>
</Window>
